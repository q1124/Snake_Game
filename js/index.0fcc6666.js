(function(t){function e(e){for(var a,o,r=e[0],h=e[1],c=e[2],u=0,l=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&l.push(s[o][0]),s[o]=0;for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&(t[a]=h[a]);d&&d(e);while(l.length)l.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var h=n[r];0!==s[h]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={index:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/snackGame/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],h=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=h;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"222d":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},i=[],o=(n("5c0b"),n("2877")),r={},h=Object(o["a"])(r,s,i,!1,null,null,null),c=h.exports,d=n("8c4f"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("div",{staticClass:"panel",attrs:{id:"Panel"}},[n("h2",{attrs:{id:"Score"}},[t._v("Score: 0")]),n("button",{on:{click:this.startGame}},[t._v("Start Game")])]),n("canvas",{attrs:{id:"mycanvas"}})])},l=[],m=n("5e54"),f={name:"mySnake",watch:{},data(){return{snake:{body:[],maxLength:5,head:new this.Vector(0,0),speed:new this.Vector(1,0),direction:"Right"},Game:{bw:12,bs:2,gameWidth:40,speed:30,foods:[],start:!1}}},computed:{},methods:{Vector:function(t,e){this.x=t,this.y=e},snakeUpdate:function(){let t=new this.Vector(this.snake.head.x+this.snake.speed.x,this.snake.head.y+this.snake.speed.y);this.snake.body.push(this.snake.head),this.snake.head=t;while(this.snake.body.length>this.snake.maxLength)this.snake.body.shift()},setDirection:function(t){var e;"Up"===t&&(e=new this.Vector(0,-1)),"Down"===t&&(e=new this.Vector(0,1)),"Left"===t&&(e=new this.Vector(-1,0)),"Right"===t&&(e=new this.Vector(1,0)),this.snake.speed=e},checkRange:function(t){let e=this.snake.head.x>=0&&this.snake.head.x<=t,n=this.snake.head.y>=0&&this.snake.head.y<=t;return e&&n},getPosition:function(t,e){return new this.Vector(t*this.Game.bw+(t-1)*this.Game.bs,e*this.Game.bw+(e-1)*this.Game.bs)},drawBlock:function(t,e){this.ctx.fillStyle=e;let n=this.getPosition(t.x,t.y);this.ctx.fillRect(n.x,n.y,this.Game.bw,this.Game.bw)},generateFood:function(){var t=parseInt(Math.random()*this.Game.gameWidth),e=parseInt(Math.random()*this.Game.gameWidth);this.Game.foods.push(new this.Vector(t,e)),this.foodAnimation(t,e),this.playSound("E5",-20),this.playSound("A5",-20,50)},foodAnimation:function(t,e){var n=2,a=this.getPosition(t,e),s=this,i=function(){n++,s.ctx.strokeStyle="rgba(255, 133, 133,"+(100-n)/100+")",s.ctx.beginPath(),s.ctx.arc(a.x+s.Game.bw/2,a.y+s.Game.bw/2,n,0,2*Math.PI),s.ctx.stroke(),n<100&&requestAnimationFrame(i)};requestAnimationFrame(i)},startGame:function(){this.Game.start=!0,document.getElementById("Panel").style.display="none",this.snake={body:[],maxLength:5,head:new this.Vector(0,0),speed:new this.Vector(1,0),direction:"Right"},this.playSound("C#5",-20),this.playSound("E5",-20,200)},endGame:function(){this.Game.start=!1,document.getElementById("Panel").style.display="block",document.getElementById("Score").textContent="Score: "+10*(this.snake.body.length-5);const t=(new m["a"]).toDestination(),e=m["b"]();t.triggerAttackRelease("C4","8n",e),t.triggerAttackRelease("E4","8n",e+.5),t.triggerAttackRelease("G4","8n",e+1),t.triggerAttackRelease("C5","8n",e+1.5),t.autostart=!1},gameRender:function(){this.ctx.fillStyle="rgba(16, 170, 201,0.3)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);for(var t=0;t<this.Game.gameWidth;t++)for(var e=0;e<this.Game.gameWidth;e++)this.drawBlock(new this.Vector(t,e),"rgba(38, 214, 250,0.12)");this.snake.body.forEach(t=>{this.drawBlock(t,"rgba(255,255,255,255)")}),this.Game.foods.forEach(t=>{this.drawBlock(t,"rgba(254, 105, 105)")}),requestAnimationFrame(()=>{this.gameRender()})},gameUpdate:function(){requestAnimationFrame(()=>{this.Game.start&&(this.playSound("A2",0),this.snakeUpdate(),this.Game.foods.forEach((t,e)=>{this.snake.head.x===t.x&&this.snake.head.y===t.y&&(this.snake.maxLength++,this.Game.foods.splice(e,1),this.generateFood())})),this.snake.body.forEach(t=>{this.snake.head.x===t.x&&this.snake.head.y===t.y&&this.endGame()}),!1===this.checkRange(this.Game.gameWidth)&&this.endGame(),setTimeout(()=>{this.gameUpdate()},150)})},playSound:function(t,e){setTimeout((function(){const e=(new m["a"]).toDestination();e.triggerAttackRelease(t,"8n")}),e||0)},async gameInit(){this.canvas=document.getElementById("mycanvas"),this.canvas.width=this.Game.bw*this.Game.gameWidth+this.Game.bs*(this.Game.gameWidth-1),this.canvas.height=this.canvas.width,this.ctx=this.canvas.getContext("2d"),this.gameRender(),this.gameUpdate(),this.generateFood()}},mounted(){this.gameInit(),window.addEventListener("keydown",t=>{this.setDirection(t.key.replace("Arrow",""))})}},p=f,g=(n("d44d"),Object(o["a"])(p,u,l,!1,null,null,null)),y=g.exports;a["a"].use(d["a"]);var b=new d["a"]({mode:"hash",base:"/",routes:[{path:"/",name:"Snake",component:y}]}),k=n("2f62");a["a"].use(k["a"]);var w=new k["a"].Store({state:{},mutations:{},actions:{},modules:{}});a["a"].config.productionTip=!1,new a["a"]({router:b,store:w,render:t=>t(c)}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},d44d:function(t,e,n){"use strict";n("222d")}});
//# sourceMappingURL=index.0fcc6666.js.map